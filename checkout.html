<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    nav {
      background: #333;
      color: white;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .cart {
      background: #ff5722;
      padding: 5px 12px;
      border-radius: 15px;
    }
    button{
        background-color: #007bff;
        border-radius: 5px;
        height: 40px;
        color: white;
        border: 2px solid white;
    }
  </style>
</head>
<body>
  <nav>
    <h1>Checkout</h1>
    <a href="index.html" style="color: white;text-decoration:none">Home</a>
    <div class="cart">Cart: <span id="cartCount">0</span></div>
  </nav>

  <h2>Your Items</h2>
  <ul id="cartItems"></ul>
  <h3>Total: ₹<span id="total">0</span></h3>
  <h3>Enter Customer Details</h3>
<form id="checkoutForm">
  <label>Name:</label><br>
  <input type="text" id="name" required><br><br>

  <label>Email:</label><br>
  <input type="email" id="email" required><br><br>

  <label>Card Number:</label><br>
  <input type="text" id="card" maxlength="16" required><br><br>

  <button type="submit">Place Order</button>
</form>

<p id="message" style="color: green; font-weight: bold;"></p>


  <script>
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const cartItems = document.getElementById("cartItems");
    const totalEl = document.getElementById("total");
    const cartCount = document.getElementById("cartCount");

    let total = 0;


    if (cart.length === 0) {
      cartItems.innerHTML = "<li>No items in cart.</li>";
    } else {
      cart.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.title} - ₹${item.price}`;
        cartItems.appendChild(li);
        total += item.price;
      });
    }

    totalEl.textContent = total;
    cartCount.textContent = cart.length;

    //<!---------------------------------->//
// ✅ Checkout form validation & submit
const form = document.getElementById("checkoutForm");
const message = document.getElementById("message");

form.addEventListener("submit", function (e) {
  e.preventDefault();

  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const card = document.getElementById("card").value.trim();

  // Simple validation
  if (name.length < 2) {
    alert("Please enter a valid name");
    return;
  }
  if (!email.includes("@") || !email.includes(".")) {
    alert("Please enter a valid email");
    return;
  }
  if (card.length !== 16 || isNaN(card)) {
    alert("Card number must be 16 digits");
    return;
  }

  // Success
  message.textContent = ` Thank you ${name}! Your order has been placed successfully.`;

  // Clear cart & form
  localStorage.removeItem("cart");
  form.reset();

  // Reset cart display
  cartItems.innerHTML = "<li>No items in cart.</li>";
  totalEl.textContent = "0";
  cartCount.textContent = "0";
});

    
  </script>
</body>
</html>
